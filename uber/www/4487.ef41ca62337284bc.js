"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4487],{4487:(b,m,c)=>{c.r(m),c.d(m,{RegistroadminPageModule:()=>T});var d=c(6814),l=c(95),a=c(9004),h=c(3044),g=c(5861),i=c(6689),p=c(9167);function _(o,n){if(1&o){const r=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"ion-button",6),i.NdJ("click",function(){const s=i.CHM(r).$implicit,u=i.oxw();return i.KtG(u.eliminarUsuario(s.usuarioid))}),i._UZ(4,"ion-icon",7),i.qZA()()}if(2&o){const r=n.$implicit;i.xp6(2),i.AsE("",r.nombre," ",r.apellido,"")}}function v(o,n){if(1&o){const r=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"ion-button",6),i.NdJ("click",function(){const s=i.CHM(r).$implicit,u=i.oxw();return i.KtG(u.eliminarVehiculo(s.autoid))}),i._UZ(4,"ion-icon",7),i.qZA()()}if(2&o){const r=n.$implicit;i.xp6(2),i.Oqu(r.patente)}}function P(o,n){if(1&o&&(i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2),i.qZA()()),2&o){const r=n.$implicit;i.xp6(2),i.Oqu(r.nomrol)}}function f(o,n){if(1&o){const r=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"ion-button",6),i.NdJ("click",function(){const s=i.CHM(r).$implicit,u=i.oxw();return i.KtG(u.eliminarPregunta(s.idpreguntas))}),i._UZ(4,"ion-icon",7),i.qZA()()}if(2&o){const r=n.$implicit;i.xp6(2),i.Oqu(r.pregunta)}}const Z=[{path:"",component:(()=>{var o;class n{constructor(e){this.servicioDB=e,this.usuarios=[],this.vehiculos=[],this.pregunta3=[],this.nuevaPregunta="",this.roles=[],this.initializeDatabase()}initializeDatabase(){this.servicioDB.createTable().then(()=>{console.log("Tabla creada con \xe9xito"),this.servicioDB.insertData().then(()=>{console.log("Datos insertados con \xe9xito"),this.loadRoles(),this.cargarUsuarios(),this.cargarVehiculos(),this.cargarPreguntas()})})}loadRoles(){this.servicioDB.obtenerRoles().then(e=>{this.roles=e})}cargarUsuarios(){this.servicioDB.obtenerUsuarios().then(e=>{console.log("Datos de usuarios obtenidos:",e),this.usuarios=e})}cargarPreguntas(){this.servicioDB.obtenerPreguntas().then(e=>{this.pregunta3=e})}cargarVehiculos(){this.servicioDB.obtenerVehiculos().then(e=>{console.log("Datos de vehiculos obtenidos:",e),this.vehiculos=e})}eliminarUsuario(e){var t=this;return(0,g.Z)(function*(){try{yield t.servicioDB.eliminarUsuario(e),t.cargarUsuarios()}catch(s){console.error("Error al eliminar usuario:",s)}})()}eliminarVehiculo(e){var t=this;return(0,g.Z)(function*(){try{yield t.servicioDB.eliminarVehiculo(e),console.log("Datos de vehiculos borrados:"),t.cargarVehiculos()}catch(s){console.error("Error al eliminar veh\xedculo:",s)}})()}eliminarPregunta(e){var t=this;return(0,g.Z)(function*(){try{yield t.servicioDB.eliminarPregunta(e),console.log("Datos de preguntas borrados:"),t.cargarPreguntas()}catch(s){console.error("Error al eliminar pregunta:",s)}})()}agregarPregunta(){var e=this;return(0,g.Z)(function*(){try{""!==e.nuevaPregunta.trim()&&(yield e.servicioDB.insertarPregunta(e.nuevaPregunta),e.cargarPreguntas(),e.nuevaPregunta="")}catch(t){console.error("Error al agregar pregunta:",t)}})()}ngOnInit(){}}return(o=n).\u0275fac=function(e){return new(e||o)(i.Y36(p.A))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-registroadmin"]],decls:24,vars:5,consts:[["color","primary","sticky",""],[4,"ngFor","ngForOf"],["color","primary"],["position","floating"],["required","",3,"ngModel","ngModelChange"],["expand","full",3,"click"],["color","danger","fill","clear",3,"click"],["name","trash"]],template:function(e,t){1&e&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i._uU(3," Lista de Registros "),i.qZA()()(),i.TgZ(4,"ion-content")(5,"ion-list")(6,"ion-item-divider",0),i._uU(7," Usuarios "),i.qZA(),i.YNc(8,_,5,2,"ion-item",1),i.TgZ(9,"ion-item-divider",0),i._uU(10," Veh\xedculos "),i.qZA(),i.YNc(11,v,5,1,"ion-item",1),i.TgZ(12,"ion-item-divider",2),i._uU(13," Roles "),i.qZA(),i.YNc(14,P,3,1,"ion-item",1),i.TgZ(15,"ion-item-divider",0),i._uU(16," Preguntas "),i.qZA(),i.YNc(17,f,5,1,"ion-item",1),i.TgZ(18,"ion-item")(19,"ion-label",3),i._uU(20,"Nueva Pregunta"),i.qZA(),i.TgZ(21,"ion-input",4),i.NdJ("ngModelChange",function(u){return t.nuevaPregunta=u}),i.qZA()(),i.TgZ(22,"ion-button",5),i.NdJ("click",function(){return t.agregarPregunta()}),i._uU(23,"Agregar Pregunta"),i.qZA()()()),2&e&&(i.xp6(8),i.Q6J("ngForOf",t.usuarios),i.xp6(3),i.Q6J("ngForOf",t.vehiculos),i.xp6(3),i.Q6J("ngForOf",t.roles),i.xp6(3),i.Q6J("ngForOf",t.pregunta3),i.xp6(4),i.Q6J("ngModel",t.nuevaPregunta))},dependencies:[d.sg,l.JJ,l.Q7,l.On,a.YG,a.W2,a.Gu,a.gu,a.pK,a.Ie,a.rH,a.Q$,a.q_,a.wd,a.sr,a.j9]}),n})()}];let R=(()=>{var o;class n{}return(o=n).\u0275fac=function(e){return new(e||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[h.Bz.forChild(Z),h.Bz]}),n})(),T=(()=>{var o;class n{}return(o=n).\u0275fac=function(e){return new(e||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[d.ez,l.u5,a.Pc,R]}),n})()}}]);