"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4487],{4487:(T,m,s)=>{s.r(m),s.d(m,{RegistroadminPageModule:()=>R});var d=s(6814),l=s(95),a=s(9004),p=s(3044),c=s(5861),i=s(6689),P=s(9167);function h(r,t){if(1&r){const n=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"ion-button",6),i.NdJ("click",function(){const u=i.CHM(n).$implicit,g=i.oxw();return i.KtG(g.eliminarUsuario(u.usuarioid))}),i._UZ(4,"ion-icon",7),i.qZA()()}if(2&r){const n=t.$implicit;i.xp6(2),i.AsE("",n.nombre," ",n.apellido,"")}}function _(r,t){if(1&r&&(i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2),i.qZA()()),2&r){const n=t.$implicit;i.xp6(2),i.Oqu(n.nomrol)}}function f(r,t){if(1&r){const n=i.EpF();i.TgZ(0,"ion-item")(1,"ion-label"),i._uU(2),i.qZA(),i.TgZ(3,"ion-button",6),i.NdJ("click",function(){const u=i.CHM(n).$implicit,g=i.oxw();return i.KtG(g.eliminarPregunta(u.idpreguntas))}),i._UZ(4,"ion-icon",7),i.qZA()()}if(2&r){const n=t.$implicit;i.xp6(2),i.Oqu(n.pregunta)}}const v=[{path:"",component:(()=>{var r;class t{constructor(e){this.servicioDB=e,this.usuarios=[],this.pregunta3=[],this.nuevaPregunta="",this.roles=[]}ionViewDidEnter(){this.loadRoles(),this.cargarUsuarios(),this.cargarPreguntas()}loadRoles(){this.servicioDB.obtenerRoles().then(e=>{this.roles=e})}cargarUsuarios(){this.servicioDB.obtenerUsuarios().then(e=>{console.log("Datos de usuarios obtenidos:",e),this.usuarios=e})}cargarPreguntas(){this.servicioDB.obtenerPreguntas().then(e=>{this.pregunta3=e})}eliminarUsuario(e){var o=this;return(0,c.Z)(function*(){try{yield o.servicioDB.eliminarUsuario(e),o.cargarUsuarios()}catch(u){console.error("Error al eliminar usuario:",u)}})()}eliminarPregunta(e){var o=this;return(0,c.Z)(function*(){try{yield o.servicioDB.eliminarPregunta(e),console.log("Datos de preguntas borrados:"),o.cargarPreguntas()}catch(u){console.error("Error al eliminar pregunta:",u)}})()}agregarPregunta(){var e=this;return(0,c.Z)(function*(){try{""!==e.nuevaPregunta.trim()&&(yield e.servicioDB.insertarPregunta(e.nuevaPregunta),e.cargarPreguntas(),e.nuevaPregunta="")}catch(o){console.error("Error al agregar pregunta:",o)}})()}ngOnInit(){}}return(r=t).\u0275fac=function(e){return new(e||r)(i.Y36(P.A))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-registroadmin"]],decls:21,vars:4,consts:[["color","primary","sticky",""],[4,"ngFor","ngForOf"],["color","primary"],["position","floating"],["required","",3,"ngModel","ngModelChange"],["expand","full",3,"click"],["color","danger","fill","clear",3,"click"],["name","trash"]],template:function(e,o){1&e&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i._uU(3," Lista de Registros "),i.qZA()()(),i.TgZ(4,"ion-content")(5,"ion-list")(6,"ion-item-divider",0),i._uU(7," Usuarios "),i.qZA(),i.YNc(8,h,5,2,"ion-item",1),i.TgZ(9,"ion-item-divider",2),i._uU(10," Roles "),i.qZA(),i.YNc(11,_,3,1,"ion-item",1),i.TgZ(12,"ion-item-divider",0),i._uU(13," Preguntas "),i.qZA(),i.YNc(14,f,5,1,"ion-item",1),i.TgZ(15,"ion-item")(16,"ion-label",3),i._uU(17,"Nueva Pregunta"),i.qZA(),i.TgZ(18,"ion-input",4),i.NdJ("ngModelChange",function(g){return o.nuevaPregunta=g}),i.qZA()(),i.TgZ(19,"ion-button",5),i.NdJ("click",function(){return o.agregarPregunta()}),i._uU(20,"Agregar Pregunta"),i.qZA()()()),2&e&&(i.xp6(8),i.Q6J("ngForOf",o.usuarios),i.xp6(3),i.Q6J("ngForOf",o.roles),i.xp6(3),i.Q6J("ngForOf",o.pregunta3),i.xp6(4),i.Q6J("ngModel",o.nuevaPregunta))},dependencies:[d.sg,l.JJ,l.Q7,l.On,a.YG,a.W2,a.Gu,a.gu,a.pK,a.Ie,a.rH,a.Q$,a.q_,a.wd,a.sr,a.j9]}),t})()}];let Z=(()=>{var r;class t{}return(r=t).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[p.Bz.forChild(v),p.Bz]}),t})(),R=(()=>{var r;class t{}return(r=t).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[d.ez,l.u5,a.Pc,Z]}),t})()}}]);